<div class="login-wrapper" style="max-width: 480px; margin: 4rem auto; padding: 1rem;">
  <div class="modern-box open" style="background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08); border-radius: 16px; box-shadow: 0 6px 20px rgba(0,0,0,0.25);">
    <button class="box-toggle" type="button" style="pointer-events: none; cursor: default;">
      <span style="font-size: 1.2rem; font-weight: 600;">Sign In to RM365</span>
      <span class="chev" style="opacity: 0;">▾</span>
    </button>

    <div class="box-body" style="height: auto !important; opacity: 1 !important; visibility: visible !important; pointer-events: auto !important; padding: 20px;">
      <form style="display: flex; flex-direction: column; gap: 12px;">
        <input
          id="loginUsername"
          type="text"
          class="modern-input"
          placeholder="Username"
          autocomplete="username"
          style="width: 100%; margin: 0;"
          required
        />

        <input
          id="loginPassword"
          type="password"
          class="modern-input"
          placeholder="Password"
          autocomplete="current-password"
          style="width: 100%; margin: 0;"
          required
        />

        <div style="margin-top: 8px;">
          <button type="button" id="loginBtn" class="modern-button" style="width: 100%;">
            Sign In
          </button>
        </div>

        <div id="loginStatus" style="min-height: 1.2em; text-align: center; margin-top: 8px; font-size: 0.9rem;"></div>
      </form>
      
      <div id="offlineModeInfo" style="margin-top: 16px; padding: 12px; background: rgba(255, 193, 7, 0.1); border: 1px solid rgba(255, 193, 7, 0.3); border-radius: 8px; font-size: 0.85rem;">
        <div style="font-weight: 600; margin-bottom: 6px; color: #ffc107;">⚠️ Backend Offline - Using Local Auth</div>
        <div style="opacity: 0.8; line-height: 1.4;">
          Demo credentials:<br>
          <code style="background: rgba(0,0,0,0.3); padding: 2px 6px; border-radius: 4px;">admin / admin123</code><br>
          <code style="background: rgba(0,0,0,0.3); padding: 2px 6px; border-radius: 4px;">user / user123</code><br>
          <code style="background: rgba(0,0,0,0.3); padding: 2px 6px; border-radius: 4px;">demo / demo</code>
        </div>
      </div>
    </div>
  </div>
  
  <div style="text-align: center; margin-top: 2rem; opacity: 0.6; font-size: 0.85rem;">
    <p>RM365 Management System</p>
  </div>
</div>

<script type="module">
import { config } from '../js/config.js';

window.addEventListener('DOMContentLoaded', () => {
  const offlineInfo = document.getElementById('offlineModeInfo');
  
  if (!config.API || config.API === 'null' || config.API === null) {
    console.log('[LOGIN] Backend is offline, showing local auth info');
    offlineInfo.style.display = 'block';
  } else {
    offlineInfo.style.display = 'none';
  }
});
</script>
